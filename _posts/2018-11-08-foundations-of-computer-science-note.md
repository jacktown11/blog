---
layout: article
title: 《计算机科学导论》笔记
categories: [草稿]
tags: [计算机科学]
---

# 第一章  绪论

## 1.图灵模型

- 数据处理器：一个接受输入数据、处理数据并产生输出数据的黑盒。这种对计算机的定义太宽泛。
- 可编程数据处理器：计算机的输出数据除依赖于输入数据外，还依赖于程序，`输出数据=f(输入数据,程序)`。
- 通用图灵机：一种只要提供了合适的程序就能做任何运算的机器，这是对现代计算机的首次描述。

## 2.冯.诺依曼模型

- 程序和数据在逻辑上是相同的，因此程序也应该存储在计算机的存储器中。
- 该模型包括四个子系统
    * **存储器**，存储数据与程序
    * **算术逻辑单元**，进行算术逻辑运算
    * **控制单元**，控制其他几个子系统
    * **输入/输出**
        - 输入接受输入数据和程序
        - 输出将结果送到计算机外部
- 存储的程序（指令）是按照顺序执行的（虽然可能会有跳转）

## 3.计算机的组成部分

- **计算机硬件**，依据冯.诺依曼模型且包含四部分
- **数据**
    * 存储数据，以01位模式存储在计算机内部
    * 组织数据，数据存储在计算机中前，可以有效组织成不同的实体和格式
- **计算机软件**，冯.诺依曼模型的主要特征是程序的概念
    * 程序必须是存储的
    * 程序必须是有序的指令集，指令集使得重用成为可能
    * 算法，通过合适组织指令来给出解决问题的一系列步骤
    * 语言，（高级）计算机语言使得能以方便人理解与编写的方式来生产程序，避免直接使用机器语言编程的低效
    * 软件工程，结构化程序的设计和编写中应遵循的原理和规则
    * 操作系统，最初是为程序访问计算机部件提供方便的一种管理程序，如今功能更加强大
    
## 4.历史

- 机械计算机器（1930年以前）
- 电子计算机的诞生（1930年-1950年）
    * 早期的电子计算机（ENIAC等）
    * 基于冯.诺依曼模型的计算机（EDVAC等）
- 计算机的诞生（1950年至今）

## 5.社会问题和道德问题（略）

## 6.计算机作为一门科学

- 系统领域：计算机体系结构、计算机网络、安全问题、操作系统、算法、程序设计语言、软件工程等
- 应用领域：数据库、人工智能等

# 第二章 数字系统

**数字系统**定义了如何用独特的符号来表示一个数字。可分为**位置化数字系统**和**非位置化数字系统**。

## 位置化数字系统

- 通用表示方法：`+/-(Sk-1 ... S2 S1 S0 . S-1 S-2 S-l)b`
- 常见位置化数字系统
    * 十进制(`decimal`)
    * 二进制(`binary`)
    * 八进制(`octol`)
    * 十六进制(`hexadecimal`)

### 其他进制转换为十进制

直接用各数位上的十进制值乘以相应的位置量值，然后相加。例如：`-(A1.C)16 = -(10*16^1 + 1*16^0 + 12*16^-1) = -161.75`。

### 十进制转换为其他进制

根据书中的算法，将其以`javascript`实现如下：

```javascript
let assert = require('assert');
/**
 * 将十进制实数字符串转换为其他进制(2-16)的字符串表示
 * @param {String} numStr 十进制实数字符串
 * @param {number} radix 目标进制（2-16）
 * @param {number} precision 小数最长保留位数，默认值12
 */
function radixConvert(numStr, radix, precision){
    numStr = numStr.toUpperCase();
    assert(/^[\+\-]?((\d+)|([\dA-F]+\.[\dA-F]+))$/.test(numStr), '非法十进制实数');
    assert(radix>=2 && radix<=16, '不满足进制取值的合法区间[2,16]');
    precision = precision || 12;

    let getCharOf = num=>num<10?''+num:String.fromCharCode(55+num);
    
    // 符号
    let symbol = '';
    if(/^[\+\-]/.test(numStr)){
        symbol = numStr[0];
        numStr = numStr.slice(1);
    }
    
    // 分解整数和小数部分
    let parts = numStr.split('.');

    // 转换整数部分
    let int = parseInt(parts[0]);
    let intTarget = [];
    while(int > 0){
        intTarget.unshift(int%radix);
        int = (int-intTarget[0])/radix;
    }
    intTarget = intTarget.map(item=>getCharOf(item));

    // 转换小数部分
    let floatTarget = [];
    if(parts.length > 1){
        let float = parseFloat('0.'+parts[1]);
        while(float > 0 && floatTarget.length < precision){
            float *= radix;
            floatTarget.push(Math.floor(float));
            float -= floatTarget[floatTarget.length-1];
        }
        floatTarget = floatTarget.map(item=>getCharOf(item));
    }

    return symbol + 
        (intTarget.length>0? intTarget.join('') : '0')+ 
        (floatTarget.length>0 ? '.'+floatTarget.join('') : '');
}

let num = -101.625;
// 测试
console.log(radixConvert(num.toString(), 16));// -65.A
console.log(radixConvert(num.toString(), 8));// -145.5
console.log(radixConvert(num.toString(), 2));// -1100101.101

// js的原生转换方法
console.log(num.toString(16));// -65.a
console.log(num.toString(8));// -145.5
console.log(num.toString(2));// -1100101.101
```

其主要思路是：

- 对于整数部分，不断除以进制，将各次的余数从右到左排列起来
- 对于小数部分，不断乘以进制，将各次的结果的整数部分从左到右排列起来
- 十进制有限小数可能在其他进制中不能以有限位小数准确表示，为此通常需要指定精度

### 其他进制间的转换

- 二进制和八进制：每三个二进制位对应一个八进制位
- 二进制和十六进制：每四个二进制位对应一个八进制位
- 八进制和十六进制：以二进制为中介

## 非位置化数字系统

- 这种系统仍旧使用有限的数字符号，但是他们的值和位置没有关系
- 为求其值，将各数字符号的代表值相加即可；一个
- 罗马数字系统是个例子（虽然各符号的值和位置无关，但是有一定的书写规范）

# 第三章 数据存储

## 数据类型

- 数据能以数字、文本、音频、图像、视频等形式存在，包含这些数据的信息在计算机行业中成为**多媒体**
- 计算机内部的数据采用**位模式**的通用格式来存储
    * `位`（bit，binary digit），计算机中的最小存储单元，只能表示两种状态0或1
    * `位模式`，位的序列，也被成为位流；长度为8的为模式成为1`字节`
- 数据存储在计算机中还会涉及到压缩、错误检测和纠正等

## 存储数字

存储数字时，对于小数点有两种处理方式

- 定点，把数字作为整数存储，无小数部分
- 浮点，把数字作为实数存储，带小数部分

### 存储整数

整数通常使用定点的方式存储在内存中。

#### 无符号表示法

- 只能表示非负整数，分配n为能表示的整数范围：0~2^n-1
- 应用：计数、寻址、存储其他数据类型（如文本、图像、音视频）

#### 符号加绝对值表示法

- 直接用最左边1位表示符号（0表示正数，1表示负数），后续位表示绝对值
- 这种表示法会出现两个零：+0和-0
- 应用：采集模拟信号（如音频）

#### 二进制补码表示法

- `反码`：所有位全部反转后得到反码，两次反码操作复原
- `补码`：反码+1（或：从右复制位，直到有1被复制，然后翻转其余各位），两次补码操作复原
- 补码表示法
    * 最左位表示符号，0正1负
    * 计算机中整数的标准表示法

### 存储实数

- 很大的整数部分或很小的小数部分不应该使用定点方式存储，浮点表示法（如科学计数法）是个很好的选择
- 使用浮点表示法规范化实数：`符号 指数 尾数`，例如`(1001.011)2`规划化后为`+ 1.001011 * 2^3`
    * 符号用1个二进制位表示（0正1负）
    * 指数表示小数点移动位数（可正可负），它采用`余码`的方式表示
    * 尾数省略小数点前的1（对于二进制总会是1）
- `IEEE`的单双精度浮点数标准
    * 单精度：符号（S）1位，指数（E）8位，尾数（M）23位，共计4字节
        - 最大绝对值：`(1-2^-24)*2^128`，此时指数为`0xFE`，尾数为`0x7FFFFF` 
        - 最小绝对值：`2^-126`，此时指数为`0x01`，尾数为`0x000000`
        - 非正规化最小绝对值`2^-149`，此时指数为`0x00`(此时表示的是-126而不是-127)，尾数为`0x0000001`
        - 另外还有特定的模式表示0（全部为0）和正负无穷
    * 双精度：符号（S）1位，指数（E）11位，尾数（M）52位，共计8字节
    * （更多参考）
        - 维基百科：[https://en.wikipedia.org/wiki/IEEE_754-1985#Single_precision](https://en.wikipedia.org/wiki/IEEE_754-1985#Single_precision)
        - CSDN博客文章：[IEEE 754浮点数表示标准](https://www.cnblogs.com/german-iris/p/5759557.html)

## 存储文本

- 文本由一系列的符号构成，表示一个字符集的所需要的位模式的长度和字符集字符数量之间是对数关系
- 不同的位模式集合被设计来表示文本符号，这些集合称为代码；表示符号的过程称为**编码**
- 常用编码：
    * `ASCII`（American Standard Code for Information Interchange，美国信息交换标准码），7位，可表示128个字符
    * `Unicode`，32位，兼容`ASCII`
    * 其他编码，相对没有`Unicode`流行

## 音频

音频本身是模拟数据，需要离散采样才能存储，大致分为如下几步：

- 采样
    * 合适的**采样率**和音频的变化剧烈程度相关，通常40000采样率的音频足够好
- 量化
    * 可能会将样本值进行截取取整
- 编码
    * `位率R = 每样本位的数量（位深度）B * 每秒样本数S`
    * 流行的`MP3`音频编码使用每秒样本数44100，位深度16，结果信号位率705600b/s，采用有损压缩法

## 存储图像

### 光栅图

在存储模拟图像时使用，类似音频需要对图像进行采样（**扫描**），其样本称为**像素**（图像元素）

- 解析度
    * 单位尺寸的像素数量
- 色彩深度
    * 存储像素色彩的位的数量
    * 真彩色：使用24位，可以表示1600多万种颜色值
    * 索引色（调色板色）：部分颜色（通常256种）的索引
- 图像编码标准
    * `JPEG`使用真彩色，但压缩图像以减少位的数量
    * `GIF`使用索引色

### 矢量图

- 使用数学公式来表达图像，而非逐个像素表达，从而缩放不失真
- 应用：`flash`、字体、工程制图等

## 视频

- 视频是图像（帧）在时间上的表示，帧的序列构成了视频
- 视频通常是被压缩存储的，`MPEG`是一种常见的视频压缩技术

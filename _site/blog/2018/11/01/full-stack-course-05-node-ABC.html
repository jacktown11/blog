<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="/css/article.css">
	<link rel="stylesheet" href="/css/monokai.css">
	<script src="/js/article.js"></script>
</head>
<body id="body" class="star-bg attached-bg">
	<nav id="top-nav" class="top-nav panel">
		<ul>
			<li>
				<a class="nav-home" href="/index.html">
					<img src="/images/base/home.png" alt="主页">
				</a>
			</li>
			<li>
				<a class="nav-posts" href="/pages/post_list.html">文章</a>
			</li>
			<li>
				<a class="nav-proj" href="/pages/proj.html">项目</a>
			</li>
			<li>
				<a class="nav-me" href="/pages/intro.html">我</a>
			</li>
		</ul>
	</nav>

	<div id="catalog-wraper" class="catalog-wraper">

	</div>
	
	<article class="wrap panel right">
		<h1>全栈课程05&06 Node.js入门</h1>
		<p class="meta">01 Nov 2018</p>
		<div class="post">
			  <h1 id="概述">概述</h1>

<ul>
  <li>优势
    <ul>
      <li>对象、语法和<code class="highlighter-rouge">javascript</code>一样，适于前端使用，但使用习惯不同</li>
      <li>前后台配合方便</li>
      <li>性能挺优秀（相对<code class="highlighter-rouge">php</code>、<code class="highlighter-rouge">java</code>、<code class="highlighter-rouge">python</code>）</li>
    </ul>
  </li>
  <li>缺点
    <ul>
      <li><code class="highlighter-rouge">Java</code>有及其丰富的库支持，而<code class="highlighter-rouge">Node.js</code>当前的框架、库还不够丰富</li>
    </ul>
  </li>
  <li>用处
    <ul>
      <li>服务器：小型后台系统、中间层（使用中间层的目的：两层多一点安全性、性能更高、与前台交互方便）</li>
      <li>工具：测试、构建（<code class="highlighter-rouge">grunt</code>、<code class="highlighter-rouge">gulp</code>、<code class="highlighter-rouge">webpack</code>）、数据抓取</li>
    </ul>
  </li>
  <li>环境配置
    <ul>
      <li>在开发环境通常不需要配置</li>
      <li>在生产环境可通过配置文件或环境变量的方式配置版本、数据库等</li>
    </ul>
  </li>
  <li>更多…
    <ul>
      <li>关于并发：<code class="highlighter-rouge">Node.js</code>和<code class="highlighter-rouge">javascript</code>一样都是单线程、单进程的，优点在于简单；为了提高性能，使用非阻塞的异步交互</li>
    </ul>
  </li>
</ul>

<h1 id="搭建web服务器">搭建web服务器</h1>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'http'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">server</span> <span class="o">=</span> <span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">((</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span><span class="o">=&gt;</span><span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">'some data'</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
<span class="p">});</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">8080</span><span class="p">);</span>
</code></pre>
</div>

<ul>
  <li>用<code class="highlighter-rouge">node</code>运行<code class="highlighter-rouge">js</code>文件：进入目录，运行<code class="highlighter-rouge">node 文件名</code></li>
  <li>创建服务器需要使用<code class="highlighter-rouge">http</code>模块</li>
  <li>一台服务器上通常会运行多个程序，每个程序会监听不同的<strong>端口号</strong>，外界访问该服务器时需要指定端口号以访问特定的后台程序；一些服务的默认端口号：
    <ul>
      <li><code class="highlighter-rouge">http</code>: 80</li>
      <li><code class="highlighter-rouge">ftp</code>: 21</li>
      <li><code class="highlighter-rouge">mysql</code>: 3306</li>
    </ul>
  </li>
  <li>在一些高级浏览器发现：访问根目录会提交两次请求，额外的一次请求<code class="highlighter-rouge">favicon.ico</code>是请求网站图标</li>
</ul>

<h1 id="外话">外话</h1>

<ul>
  <li><strong>负载均衡</strong>：一个网站可能有多个服务器，尽量让所有用户的请求比较均衡地让各服务器处理。</li>
  <li><strong>代理跨域</strong>，反向代理</li>
</ul>

			  
			<!-- <p class="to-jianshu">
				转载请注明出处，您还可以在
				<a href="https://www.jianshu.com/u/4b533d3e0184" target="_blank">我的简书</a>上找到本文并评论。
			</p> -->

		</div>
	</article>

	<div class="sidebar">
		<a href="#" class="to-top"></a>
		<a href="javascript:;" class="nav-ctrl" id="navCtrl">目录</a>
		<a href="javascript:;" class="mode" id="mode">极简</a>
	</div>

</body>
</html>
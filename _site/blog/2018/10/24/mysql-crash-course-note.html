<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="/css/article.css">
	<link rel="stylesheet" href="/css/monokai.css">
	<script src="/js/article.js"></script>
</head>
<body id="body" class="star-bg attached-bg">
	<nav id="top-nav" class="top-nav panel">
		<ul>
			<li>
				<a class="nav-home" href="/index.html">
					<img src="/images/base/home.png" alt="主页">
				</a>
			</li>
			<li>
				<a class="nav-posts" href="/pages/post_list.html">文章</a>
			</li>
			<li>
				<a class="nav-proj" href="/pages/proj.html">项目</a>
			</li>
			<li>
				<a class="nav-me" href="/pages/intro.html">我</a>
			</li>
		</ul>
	</nav>

	<div id="catalog-wraper" class="catalog-wraper">

	</div>
	
	<article class="wrap panel right">
		<h1>《mysql必知必会》笔记</h1>
		<p class="meta">24 Oct 2018</p>
		<div class="post">
			  <h1 id="第一章-了解sql">第一章 了解SQL</h1>

<p>一些基本的数据库术语：</p>

<ul>
  <li><code class="highlighter-rouge">数据库</code>（database）：保存有组织的数据的容器（通常是一个文件或一组文件）</li>
  <li><code class="highlighter-rouge">表</code>（table）：某种特定类型数据的结构化清单</li>
  <li><code class="highlighter-rouge">模式</code>（schema）:关于数据库和表的布局及特性的信息</li>
  <li><code class="highlighter-rouge">列</code>（column）：表中的一个字段；所有表都是由一个或多个列组成</li>
  <li><code class="highlighter-rouge">数据类型</code>（datatype）：所容许的数据的类型；每个表列都有相应的数据类型，它限制`（或容许）该列中存储的数据</li>
  <li><code class="highlighter-rouge">行</code>（row）：表中的一个记录</li>
  <li><code class="highlighter-rouge">主键</code>（primary key）：一列（或一组列），其值能够唯一区分表中每个行</li>
  <li><code class="highlighter-rouge">SQL</code>（Structured Query Language）：结构化查询语言，一种专门用来与数据库通信的语言</li>
</ul>

<h1 id="第二章-mysql简介">第二章 MySQL简介</h1>

<h2 id="什么是mysql">什么是MySQL</h2>

<p>MySQL是一种数据库软件（DBMS，Database Management System，数据库管理系统），负责数据的所有存储、检索、管理与实际处理，即通过它与数据库（<code class="highlighter-rouge">database</code>）交互。</p>

<p>DBMS分类：</p>

<ul>
  <li>基于文件系统的DBMS（如Microsoft Access）</li>
  <li>基于客户机-服务器的DBMS（如MySQL、Oracle、Microsoft SQL Server）</li>
</ul>

<h2 id="基于客户机-服务器的dbms">基于客户机-服务器的DBMS</h2>

<ul>
  <li>服务器软件：如MySQL</li>
  <li>客户机
    <ul>
      <li>各种工具：如MySQL Administrator、MySQL Query Browser、SQLyog</li>
      <li>脚本语言：如Perl</li>
      <li>Web应用开发语言：如ASP、JSP、PHP</li>
      <li>程序设计语言：如Java、C、C++</li>
    </ul>
  </li>
</ul>

<h2 id="mysql客户机工具">MySQL客户机工具</h2>

<ul>
  <li>命令行实用程序</li>
  <li>MySQL Administrator</li>
  <li>MySQL Query Browser</li>
</ul>

<h3 id="mysql命令行入门">MySQL命令行入门</h3>

<ul>
  <li>登录；<code class="highlighter-rouge">mysql -u username -p</code></li>
  <li>帮助：<code class="highlighter-rouge">\h</code>或<code class="highlighter-rouge">help</code>或<code class="highlighter-rouge">help 关键字</code></li>
  <li>退出：<code class="highlighter-rouge">exit</code>或<code class="highlighter-rouge">quit</code></li>
  <li>命令以<code class="highlighter-rouge">\g</code>或<code class="highlighter-rouge">;</code>结束</li>
</ul>

<h1 id="第三章-使用mysql">第三章 使用MySQL</h1>

<h2 id="连接到mysql">连接到MySQL</h2>

<ul>
  <li>需要提供主机名、端口、用户名、口令</li>
  <li>MySQL内部有用户列表，各用户有相应的权限；管理登录（root）由于有完全的权限，因此受到密切保护</li>
</ul>

<h2 id="选择数据库与查看内部信息">选择数据库与查看内部信息</h2>

<ul>
  <li><strong><code class="highlighter-rouge">SHOW DATABASES;</code></strong>，显示所有可用数据库的列表</li>
  <li><strong><code class="highlighter-rouge">USE databasex;</code></strong>，选择指定名称的数据库</li>
  <li><strong><code class="highlighter-rouge">SHOW TABLES;</code></strong>，显示所有选定的数据库内的可用表的列表</li>
  <li><strong><code class="highlighter-rouge">SHOW COLUMNS FROM tablex;</code></strong>，显示给定名称的表的列信息</li>
</ul>

<h1 id="第四章-检索数据">第四章 检索数据</h1>

<ul>
  <li><strong><code class="highlighter-rouge">SELECT</code> columnx <code class="highlighter-rouge">FROM</code> tablex</strong>，从某表中检索给定列名的一列</li>
  <li><strong>SELECT column1<code class="highlighter-rouge">,</code>column2 FROM tablex</strong>，从某表中检索给定列名的多列</li>
  <li>**SELECT <code class="highlighter-rouge">*</code> FROM tablex，从某表中检索给定列名的列</li>
  <li><strong>SELECT <code class="highlighter-rouge">DISCTINCT</code> column1,column2 FROM tablex</strong>，从某表中检索给定列名的多列去重后的结果（重复是指被检索的各列都相同）</li>
  <li><strong>SELECT column FROM tablex <code class="highlighter-rouge">LIMIT</code> count</strong>，从某表中检索给定列名的一列，结果最多count条</li>
  <li><strong>SELECT column FROM tablex <code class="highlighter-rouge">LIMIT</code> pos, count</strong>，从某表中检索给定列名的一列，结果为pos位置之后（不含）的最多count条</li>
  <li><strong>SELECT tablex<code class="highlighter-rouge">.</code>columnx FROM databasex<code class="highlighter-rouge">.</code>tablex</strong>，列和表都可以选择性地使用完全限定的写法</li>
</ul>

<h1 id="第五章-排序检索数据">第五章 排序检索数据</h1>

<p><code class="highlighter-rouge">子句</code>（clause），SQL语句由某些必须的和可选的子句组成，一个子句通常由一个关键字和所提供的数据组成，子句的例子：FROM子句。</p>

<p><code class="highlighter-rouge">ORDER BY</code>子句，用于按照一个或多个列对输出进行排序的子句。</p>

<ul>
  <li><strong>SELECT columnx FROM tablex <code class="highlighter-rouge">ORDER BY</code> columny</strong>，检索出指定列并给定列排序（用于排序的列可能是非检索的）</li>
  <li><strong>SELECT columnx FROM tablex <code class="highlighter-rouge">ORDER BY</code> column1,column2</strong>，检索出指定列并给定的多个列排序（先按column1排序，column1存在重复项再按column2排序）</li>
  <li><strong>SELECT columnx FROM tablex ORDER BY column1 <code class="highlighter-rouge">DESC</code>,column2</strong>，检索出指定列并给定的多个列排序（先按column1降序排序，column1存在重复项再按column2升序（默认）排序）。注意降序<code class="highlighter-rouge">DESC</code>和升序<code class="highlighter-rouge">ASC</code>需要逐个指定到作为排序根据的各个列后。</li>
</ul>

<h1 id="第六章-过滤数据1">第六章 过滤数据（1）</h1>

<p>使用<code class="highlighter-rouge">WHERE</code>子句给定搜索条件（过滤条件）。</p>

<h2 id="格式">格式</h2>

<ul>
  <li><strong>SELECT columnx FROM tablex <code class="highlighter-rouge">WHERE 条件</code></strong></li>
</ul>

<p>其中的条件可以使用如下的一些操作符：</p>

<table>
  <thead>
    <tr>
      <th>操作符</th>
      <th>含义</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">=</code></td>
      <td>相等（可以用于字符串）</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&lt;&gt;</code></td>
      <td>不等于</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">!=</code></td>
      <td>不等于</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&lt;</code></td>
      <td>小于</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&lt;=</code></td>
      <td>小于等于</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&gt;</code></td>
      <td>大于</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&gt;=</code></td>
      <td>大于等于</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">BETWEEN a AND b</code></td>
      <td>在区间[a,b]中</td>
    </tr>
  </tbody>
</table>

<h2 id="空值检查">空值检查</h2>

<ul>
  <li><strong>SELECT columnx FROM tablex WHERE columny <code class="highlighter-rouge">IS NULL</code></strong></li>
</ul>

<p><code class="highlighter-rouge">NULL</code>不同于0、空串或空格，它表示无值（no value）。要注意：在过滤选择具有特定值或不具有特定值的行时，都不会返回具有<code class="highlighter-rouge">NULL</code>值的行。</p>

<h1 id="第七章-过滤数据2">第七章 过滤数据（2）</h1>

<ul>
  <li><strong>SELECT columnx FROM tablex WHERE 条件1 <code class="highlighter-rouge">AND</code> 条件2</strong>，多重条件与过滤</li>
  <li><strong>SELECT columnx FROM tablex WHERE 条件1 <code class="highlighter-rouge">OR</code> 条件2</strong>，多重条件或过滤</li>
  <li><code class="highlighter-rouge">AND</code>优先级高于<code class="highlighter-rouge">OR</code>,可以通过圆括号<code class="highlighter-rouge">()</code>改变条件计算次序</li>
  <li><strong>SELECT columnx FROM tablex WHERE columny <code class="highlighter-rouge">IN</code> (值1, 值2, 值3)</strong>，筛选某列值在备选值中的条目</li>
  <li><strong>SELECT columnx FROM tablex WHERE <code class="highlighter-rouge">NOT</code> 条件</strong>，对其后的条件（<code class="highlighter-rouge">IN</code>、<code class="highlighter-rouge">BETWEEN</code>、<code class="highlighter-rouge">EXISTS</code>）取反</li>
</ul>

<h1 id="第八章-用通配符进行过滤">第八章 用通配符进行过滤</h1>

<p><strong>通配符</strong>（wildcard），用来匹配值的一部分的特殊字符。</p>

<p><strong>搜素模式</strong>（search pattern），由字面值、通配符或两者组合构成的搜索条件。</p>

<ul>
  <li><strong>SELECT columnx FROM tablex WHERE columny <code class="highlighter-rouge">LIKE</code> 搜索模式</strong>，筛选某列符合给定搜索模式的条目</li>
</ul>

<p>两种通配符：</p>

<ul>
  <li><code class="highlighter-rouge">%</code>，匹配0或多个任意字符</li>
  <li><code class="highlighter-rouge">_</code>，匹配1个任意字符</li>
</ul>

<h1 id="第九章-用正则表达式进行搜索">第九章 用正则表达式进行搜索</h1>

<ul>
  <li><strong>SELECT columnx FROM tablex WHERE columny <code class="highlighter-rouge">REGEXP</code> 正则表达式</strong></li>
</ul>

<p>MySQL中正则表示式中特殊字符需要双重转义（js注释：好比js中通过<code class="highlighter-rouge">new RegExp(regstr)</code>的方式建立正则表达式一样，另外MySQL中的字符类和词开头结尾定位符和js明显不同）</p>

<h1 id="第十章-创建计算字段">第十章 创建计算字段</h1>

<p><strong>字段</strong>（field），基本与列同意，常互换使用，字段更多用在计算字段的连接上。</p>

<p><strong>拼接</strong>（concatenate），把值联结到一起构成单个值。</p>

<p><strong>别名</strong>（alias），一个字段或值的替换名。</p>

<ul>
  <li><strong>SELECT <code class="highlighter-rouge">计算字段 AS 别名</code> FROM tablex</strong>，将搜索结果，通过算术运算（加减乘除）和函数（<code class="highlighter-rouge">Concat()</code>、<code class="highlighter-rouge">Trim()</code>）等得到新字段，同时为计算字段添加别名</li>
</ul>

<h1 id="第十一章-使用数据处理函数">第十一章 使用数据处理函数</h1>

<p>MySQL提供了一系列数据处理函数：</p>

<ul>
  <li>文本处理函数，如 <code class="highlighter-rouge">Upper()</code>、<code class="highlighter-rouge">Trim()</code>、<code class="highlighter-rouge">LTrim()</code></li>
  <li>日期与时间处理函数，如<code class="highlighter-rouge">Date()</code>返回<code class="highlighter-rouge">yyyy-mm-dd</code>格式的日期、<code class="highlighter-rouge">Year()</code>返回完整年份</li>
  <li>数值处理函数，如<code class="highlighter-rouge">Abs()</code>、<code class="highlighter-rouge">Sin()</code>、<code class="highlighter-rouge">Sqrt()</code></li>
</ul>

<h1 id="第十二章-汇总数据">第十二章 汇总数据</h1>

<p><strong>聚集函数</strong>（aggregate function），运行在行组上，计算和返回单个值的函数。</p>

<table>
  <thead>
    <tr>
      <th>聚集函数</th>
      <th>解释</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AVG()</code></td>
      <td>平均值，忽略<code class="highlighter-rouge">NULL</code>行</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">COUNT()</code></td>
      <td>条目数，列名参数时忽略<code class="highlighter-rouge">NULL</code>行，<code class="highlighter-rouge">*</code>参数时计算所有行</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MAX()</code></td>
      <td>最大值，忽略<code class="highlighter-rouge">NULL</code>行</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MIN()</code></td>
      <td>最小值，忽略<code class="highlighter-rouge">NULL</code>行</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SUM()</code></td>
      <td>求和，忽略<code class="highlighter-rouge">NULL</code>行</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>在列名参数前加上<code class="highlighter-rouge">DISTINCT</code>(默认为<code class="highlighter-rouge">ALL</code>)时，只聚集不同的值</li>
  <li>可以组合使用聚集函数，也可与算术操作符配合</li>
</ul>

<h1 id="第十三章-分组数据">第十三章 分组数据</h1>

<ul>
  <li><code class="highlighter-rouge">GROUP BY</code>子句可以让聚集函数在根据给定的列分组以后，再分别计算各个分组</li>
  <li><code class="highlighter-rouge">HAVING</code>子句可以对分组后的计算结果再次筛选（而不是像<code class="highlighter-rouge">WHERE</code>那样过滤原始数据行本身）</li>
  <li><code class="highlighter-rouge">GROUP BY</code>分组计算结果本身是不排序的，为此可以再使用<code class="highlighter-rouge">ORDER BY</code>对计算结果排序</li>
</ul>

<h2 id="group-by使用注意事项">GROUP BY使用注意事项</h2>

<ul>
  <li><code class="highlighter-rouge">GROUP BY</code>子句可以包含任意数量的列，从而允许嵌套</li>
  <li>嵌套的分组，数据将在最后规定的分组上汇总</li>
  <li><code class="highlighter-rouge">GRUOP BY</code>子句列出的列必须是有效的表达式或建所列（但不能是聚集函数）；<code class="highlighter-rouge">SELECT</code>中使用表达式，则必须在<code class="highlighter-rouge">GROUP BY</code>中指定相同的表达式，不能使用别名</li>
  <li>除聚集计算语句外，<code class="highlighter-rouge">SELECT</code>语句的每个列必须在<code class="highlighter-rouge">GROUP BY</code>子句中给出</li>
  <li>如果分组列包含<code class="highlighter-rouge">NULL</code>值，那么将各<code class="highlighter-rouge">NULL</code>行一起作为一个分组</li>
  <li><code class="highlighter-rouge">GROUP BY</code>放在<code class="highlighter-rouge">WHERE</code>之后，<code class="highlighter-rouge">ORDER BY</code>之前</li>
</ul>

<h2 id="select子句顺序">SELECT子句顺序</h2>

<table>
  <thead>
    <tr>
      <th>子句</th>
      <th>说明</th>
      <th>是否必须使用</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">SELECT</code></td>
      <td>要返回的列或表达式</td>
      <td>是</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FROM</code></td>
      <td>从中检索数据的表</td>
      <td>仅在从表选择数据时使用</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">WHERE</code></td>
      <td>行级过滤</td>
      <td>否</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">GROUP BY</code></td>
      <td>分组说明</td>
      <td>仅在按组计算聚集时使用</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">HAVING</code></td>
      <td>组级过滤</td>
      <td>否</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ORDER BY</code></td>
      <td>输出排序顺序</td>
      <td>否</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">LIMIT</code></td>
      <td>要检索的行数</td>
      <td>否</td>
    </tr>
  </tbody>
</table>

<h1 id="第14章-使用子查询">第14章 使用子查询</h1>

<ul>
  <li><strong>SELECT 列x FROM 表 WHERE 列y IN (<code class="highlighter-rouge">SELECT 列y ...</code>)</strong>，使用子查询进行过滤</li>
  <li><strong>SELECT 列x, <code class="highlighter-rouge">(SELECT COUNT(*) FROM 表2 WHERE 表2.列y = 表1.列y)</code> AS 列名 FROM 表1</strong>，使用子查询得到计算字段</li>
</ul>

<h1 id="第15章-联结表">第15章 联结表</h1>

<p><strong>外键</strong>（foreign key），某个表中的一列，它包含另一个表的主键值，定义了两个表之间的关系。</p>

<p><strong>可伸缩性</strong>（scale），能够适应不断增加的工作量而不失败。设计良好的数据库或应用程序称之为可伸缩性好。</p>

<ul>
  <li><strong>SELECT 列x FROM 表1,表2 WHERE 表1.列x=表2.列x</strong>，联结多个表同时查询</li>
  <li><strong>SELECT 列x FROM 表1 <code class="highlighter-rouge">INNER JOIN</code> 表2 ON 表1.列x=表2.列x</strong>，对于等值联结（内部联结），可以使用<code class="highlighter-rouge">INNER JOIN</code>和<code class="highlighter-rouge">ON</code>关键字</li>
</ul>

<h1 id="第16章-创建高级联结">第16章 创建高级联结</h1>

<p>除了<strong>内部联结</strong>，还有<strong>自联结</strong>、<strong>自然联结</strong>、<strong>外部联结</strong>这些高级联结。</p>

<ul>
  <li>为了方便查询，可以用<code class="highlighter-rouge">AS</code>给表取别名，该别名用于查询并不返回给客户机</li>
  <li><strong>SELECT 列x FROM <code class="highlighter-rouge">表1 AS A,表1 AS B</code> WHERE A.列y=B.列y AND B.列z=某值</strong>，自联结</li>
  <li>自然联结</li>
  <li><strong>SELECT 列x FROM <code class="highlighter-rouge">表1 LEFT OUTER JOIN 表2</code> ON 表1.列y=表2.列y</strong>，外部联结，可用来保证在表1中的行都被检出（即使该行对应的作为联结条件的列在表2中没有出现），而<code class="highlighter-rouge">RIGHT OUTER JOIN</code>则保证表2都被检出</li>
  <li>联结可以和聚集函数一起使用</li>
</ul>

<h1 id="第17章-组合查询">第17章 组合查询</h1>

<ul>
  <li><strong>SELECT语句1 <code class="highlighter-rouge">UNION</code> SELECT语句2</strong>，将多条查询语句的汇总成一个结果集</li>
  <li>注意事项
    <ul>
      <li>各条查询语句的结果列应该是相同的列、表达式或聚集函数，数据类型应该兼容</li>
      <li>使用<code class="highlighter-rouge">UNION ALL</code>可以放弃去重的默认行为</li>
      <li><code class="highlighter-rouge">ORDER BY</code>语句应该只出现一次，放在最后</li>
    </ul>
  </li>
</ul>

<h1 id="第18章-全文本搜索">第18章 全文本搜索</h1>

<ul>
  <li>全文本搜索优势：性能、明确控制、智能化结果</li>
  <li>启用全文本搜索：创建表示使用<code class="highlighter-rouge">FULLTEXT</code>子句</li>
  <li><strong>SELECT 列1 FROM 表1 WHERE <code class="highlighter-rouge">Match(列名) Against(搜索表达式)</code></strong>，使用全文本搜索</li>
  <li><strong>SELECT 列1 FROM 表1 WHERE Match(列名) Against(搜索表达式 <code class="highlighter-rouge">WITH QUERY EXPANSION</code>)</strong>，使用查询扩展以匹配更多的可能相关的行</li>
  <li><strong>SELECT 列1 FROM 表1 WHERE Match(列名) Against(<code class="highlighter-rouge">可带全文本布尔操作符的搜索表达式 IN BOOLEAN MODE</code>)</strong>，使用布尔文本搜索，以实现必须匹配、必须不匹配、等级提示、分组等更智能的搜索，全文本布尔操作符包括<code class="highlighter-rouge">+ - &lt; &gt; () ~ * ""</code>，布尔方式不对结果排序</li>
</ul>

<h1 id="第19章-插入数据">第19章 插入数据</h1>

<ul>
  <li><strong><code class="highlighter-rouge">INSERT INTO</code> 表1 (以逗号分隔的各列名) VALUES (以逗号分隔的各列值),(以逗号分隔的各列值)</strong>，向表中插入一至多行，那些有默认值或运行NULL值的列可以省略</li>
  <li><strong><code class="highlighter-rouge">INSERT</code> INTO 表1 (以逗号分隔的各列名) <code class="highlighter-rouge">SELECT</code> 检索列名 FROM 表2</strong>，将查询结果插入表，检索列名不需要和插入的列名保持一致，重要的只是顺序</li>
</ul>

<h1 id="第20章-更新和删除数据">第20章 更新和删除数据</h1>

<ul>
  <li><strong><code class="highlighter-rouge">UPDATE</code> 表1 <code class="highlighter-rouge">SET</code> 列1=值1,列2=值2 WHERE子句</strong>，更新过滤出的行的指定列的数据</li>
  <li><strong><code class="highlighter-rouge">DELETE FROM</code> 表1 WHERE子句</strong>，删除某些行</li>
</ul>

<h1 id="第21章-创建和操纵表">第21章 创建和操纵表</h1>

<h2 id="创建表">创建表</h2>

<pre><code class="language-mysql">CREATE TABLE customers
(
  cust_id      int       NOT NULL AUTO_INCREMENT,
  cust_name    char(50)  NOT NULL ,
  cust_address char(50)  NULL ,
  cust_city    char(50)  NULL ,
  cust_state   char(5)   NULL ,
  cust_zip     char(10)  NULL ,
  cust_country char(50)  NULL ,
  cust_contact char(50)  NULL ,
  cust_email   char(255) NULL ,
  PRIMARY KEY (cust_id)
) ENGINE=InnoDB;
</code></pre>

<p>以上是一个创建表的示例：</p>

<ul>
  <li>以<code class="highlighter-rouge">CREATE TABLE 表名</code>其实，各列需要给出<code class="highlighter-rouge">列名</code>、<code class="highlighter-rouge">数据类型</code></li>
  <li><code class="highlighter-rouge">NULL</code>和<code class="highlighter-rouge">NOT NULL</code>指定该列是否可以是<code class="highlighter-rouge">NULL</code>值，不给该关键字时默认情况下是<code class="highlighter-rouge">NULL</code></li>
  <li><code class="highlighter-rouge">PRIMARY KEY</code>指定主键，必须是唯一的；可以用多个列做主键，此时多个列的组合必须唯一，主键列必须是非<code class="highlighter-rouge">NULL</code>的</li>
  <li><code class="highlighter-rouge">AUTO INCREMENT</code>使得某列在添加新行时自动递增（缺省时），该列必须被索引（如被作为主键）</li>
  <li><code class="highlighter-rouge">DEFAULT 默认值</code>可以指定某列的默认值</li>
  <li><code class="highlighter-rouge">ENGINE=引擎</code>指定引擎类型，如下是几种引擎简介：
    <ul>
      <li><code class="highlighter-rouge">InnoDB</code>，一个可靠的事务处理引擎，不支持全文本搜索</li>
      <li><code class="highlighter-rouge">MEMORY</code>，功能等同于<code class="highlighter-rouge">MyISAM</code>，但数据存储在内存而不是磁盘中，速度快（适合临时表）</li>
      <li><code class="highlighter-rouge">MyISAM</code>，性能极高，支持全文本搜索，不支持事务处理</li>
    </ul>
  </li>
</ul>

<h2 id="更新表">更新表</h2>

<ul>
  <li><strong><code class="highlighter-rouge">ALTER</code> TABLE 表1 <code class="highlighter-rouge">ADD</code> 列名 数据类型</strong>，添加新列</li>
  <li><strong><code class="highlighter-rouge">ALTER</code> TABLE 表1 <code class="highlighter-rouge">DROP COLUMN</code> 列1</strong>，输出列</li>
  <li>定义外键等</li>
</ul>

<h2 id="删除表">删除表</h2>

<ul>
  <li><strong><code class="highlighter-rouge">DROP</code> TABLE 表名</strong>，删除</li>
</ul>

<h2 id="重命名表">重命名表</h2>

<ul>
  <li><strong><code class="highlighter-rouge">RENAME</code> TABLE 新表名 <code class="highlighter-rouge">TO</code> 旧表名</strong>，重命名</li>
</ul>

<h1 id="第22章-使用视图">第22章 使用视图</h1>

<p>视图一种虚拟的表，它本身不包含任何的列或数据，而是根据需要检索数据的查询。其用处：</p>

<ul>
  <li>重用<code class="highlighter-rouge">SQL</code>语句</li>
  <li>简化复杂<code class="highlighter-rouge">SQL</code>语句</li>
  <li>使用表的组成部分而不是整个表</li>
  <li>保护数据</li>
  <li>更改数据格式和表示</li>
</ul>

<p>主要使用：</p>

<ul>
  <li><code class="highlighter-rouge">CREATE VIEW 视图名 AS</code>，创建视图</li>
  <li><code class="highlighter-rouge">SHOW CREATE VIEW 视图名</code>，查看创建视图的语句</li>
  <li><code class="highlighter-rouge">DROP VIEW 视图名</code>，删除视图</li>
  <li>更新视图：先<code class="highlighter-rouge">DROP</code>再<code class="highlighter-rouge">CREATE</code>，或者<code class="highlighter-rouge">CREATE OR REPLACE VIEW</code>直接创建（若存在则覆盖）</li>
</ul>

<p>创建视图后，可以像查表一样使用<code class="highlighter-rouge">SELECT</code>语句；视图是否可更新（<code class="highlighter-rouge">INSERT</code>、<code class="highlighter-rouge">UPDATE</code>、<code class="highlighter-rouge">DELETE</code>）要依情况而定。</p>


			  
			<!-- <p class="to-jianshu">
				转载请注明出处，您还可以在
				<a href="https://www.jianshu.com/u/4b533d3e0184" target="_blank">我的简书</a>上找到本文并评论。
			</p> -->

		</div>
	</article>

	<div class="sidebar">
		<a href="#" class="to-top"></a>
		<a href="javascript:;" class="nav-ctrl" id="navCtrl">目录</a>
		<a href="javascript:;" class="mode" id="mode">极简</a>
	</div>

</body>
</html>
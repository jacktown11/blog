<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="/css/article.css">
	<link rel="stylesheet" href="/css/monokai.css">
	<script src="/js/article.js"></script>
</head>
<body id="body" class="star-bg attached-bg">
	<nav id="top-nav" class="top-nav panel">
		<ul>
			<li>
				<a class="nav-home" href="/index.html">
					<img src="/images/base/home.png" alt="主页">
				</a>
			</li>
			<li>
				<a class="nav-posts" href="/pages/post_list.html">文章</a>
			</li>
			<li>
				<a class="nav-proj" href="/pages/proj.html">项目</a>
			</li>
			<li>
				<a class="nav-me" href="/pages/intro.html">我</a>
			</li>
		</ul>
	</nav>

	<div id="catalog-wraper" class="catalog-wraper">

	</div>
	
	<article class="wrap panel right">
		<h1>万有笔记</h1>
		<p class="meta">2017-06-01</p>
		<div class="post">
			  <h1 id="问题与待学习">问题与待学习</h1>

<ul>
  <li>js对象深浅拷贝</li>
</ul>

<h1 id="工作">工作</h1>

<h1 id="编程相关">编程相关</h1>

<h1 id="java">java</h1>

<h2 id="tomcat">tomcat</h2>

<ul>
  <li>tomcat启动太慢问题
    <ul>
      <li>将<code class="highlighter-rouge">$JAVA_PATH/jre/lib/security/java.security</code>这个文件，找到下面的内容：<code class="highlighter-rouge">securerandom.source=file:/dev/urandom</code>，替换成<code class="highlighter-rouge">securerandom.source=file:/dev/./urandom</code></li>
      <li>参考：<a href="https://blog.csdn.net/u011627980/article/details/54024974">tomcat启动慢， Creation of SecureRandom instance for session ID generation using SHA1PRNG took xx mil</a></li>
    </ul>
  </li>
</ul>

<h1 id="js">js</h1>

<h1 id="后端">后端</h1>

<h2 id="mysql">mysql</h2>

<h2 id="linux">linux</h2>

<ul>
  <li>centos6.9 安装完毕后，输入提示光标闪烁太快
    <ul>
      <li>问题描述：如上</li>
      <li>解决：
        <ul>
          <li>修改<code class="highlighter-rouge">/etc/rc.local</code>文件权限：<code class="highlighter-rouge">chmod a+x /etc/rc.local</code></li>
          <li>修改<code class="highlighter-rouge">/etc/rc.local</code>文件内容：<code class="highlighter-rouge">echo 0 &gt; /sys/class/graphics/fbcon/cursor_blink</code></li>
        </ul>
      </li>
      <li>参考：<a href="https://blog.csdn.net/buxiaoxindasuile/article/details/80793139">设置禁止centos7 控制台光标闪烁『disable blinking cursors』</a></li>
    </ul>
  </li>
</ul>

<h1 id="前端">前端</h1>

<h2 id="vue">vue</h2>

<h3 id="大小写的推荐写法">大小写的推荐写法</h3>

<h4 id="单文件组件的文件名">单文件组件的文件名</h4>

<p>建议始终使用<code class="highlighter-rouge">PascalCase</code>或<code class="highlighter-rouge">kebab-case</code>，前者利于编辑器自动提示并于在<code class="highlighter-rouge">js</code>文件中对它的引用更一致，不过在某些大写不敏感的文件系统中可能出现问题。</p>

<h4 id="组件名称">组件名称</h4>

<ul>
  <li>在字符串模板/单文件组件模板中建议：<code class="highlighter-rouge">PascalCase</code>或<code class="highlighter-rouge">kebab-case</code></li>
  <li>在<code class="highlighter-rouge">DOM</code>模板中使用：<code class="highlighter-rouge">kebab-case</code>（鉴于<code class="highlighter-rouge">html</code>大小写不敏感，这是必须的）</li>
  <li>在<code class="highlighter-rouge">js</code>中建议：<code class="highlighter-rouge">PascalCase</code>
    <ul>
      <li>但是使用<code class="highlighter-rouge">Vue.component()</code>注册全局组件的话，建议<code class="highlighter-rouge">kebab-case</code>.(因为它们会在<code class="highlighter-rouge">js</code>中用得少，而<code class="highlighter-rouge">kebab-case</code>和<code class="highlighter-rouge">html</code>一致)</li>
    </ul>
  </li>
</ul>

<h4 id="属性名称">属性名称</h4>

<ul>
  <li><code class="highlighter-rouge">html</code>中建议<code class="highlighter-rouge">kebab-case</code></li>
  <li><code class="highlighter-rouge">js</code>中建议<code class="highlighter-rouge">camelCase</code></li>
</ul>

<h4 id="事件名称">事件名称</h4>

<p>始终使用<code class="highlighter-rouge">kebab-case</code>（注意：<code class="highlighter-rouge">vue</code>不会将<code class="highlighter-rouge">js</code>中其他形式事件名自动转换为<code class="highlighter-rouge">kebab-case</code>，因为它几乎不被作为标识符使用）</p>

<h4 id="个人小结一种参考">个人小结（一种参考）</h4>

<ul>
  <li><code class="highlighter-rouge">html</code>(<code class="highlighter-rouge">DOM template</code>、<code class="highlighter-rouge">string template</code>、<code class="highlighter-rouge">single file component template</code>): <code class="highlighter-rouge">kebab-case</code></li>
  <li><code class="highlighter-rouge">js</code>
    <ul>
      <li>组件名：<code class="highlighter-rouge">PascalCase</code></li>
      <li>属性名：<code class="highlighter-rouge">camelCase</code></li>
      <li>事件名：<code class="highlighter-rouge">kebab-case</code></li>
    </ul>
  </li>
  <li>单文件组件文件名：<code class="highlighter-rouge">kebab-case</code></li>
</ul>

<h3 id="外卖webapp项目">外卖webapp项目</h3>

<h4 id="知识点">知识点</h4>

<h5 id="stiky-footer">stiky footer</h5>

<ul>
  <li><a href="https://www.w3cplus.com/css3/css-secrets/sticky-footers.html">CSS秘密花园： Sticky footers</a></li>
</ul>

<h5 id="flex布局">flex布局</h5>

<ul>
  <li><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html">Flex 布局教程：语法篇</a></li>
  <li><a href="http://www.ruanyifeng.com/blog/2015/07/flex-examples.html">Flex 布局教程：实例篇</a></li>
</ul>

<h5 id="better-scroll使用注意事项">better-scroll使用注意事项</h5>

<ul>
  <li><a href="https://github.com/ustbhuangyi/better-scroll">better-scroll</a>是一个滚动插件，可以查看其<a href="https://ustbhuangyi.github.io/better-scroll/doc/zh-hans/">中文文档</a>了解更多</li>
  <li><code class="highlighter-rouge">new</code>新的滚动控制器时，传入的包裹元素，通常情况下内部有唯一一个元素，是实际内容；实际内容溢出包裹元素时就可以滚动；如果内部有多个元素，那么只针对第一个元素。</li>
  <li>默认情况下，使用了滚动控制的部分，禁用了点击事件，可以在创建时提供参数项<code class="highlighter-rouge">click: true</code>来使用点击；此时点击事件是插件内部触发的，其事件对象有一个<code class="highlighter-rouge">_constructed</code>属性；在<code class="highlighter-rouge">pc</code>浏览器下，同时原生点击事件也会触发，导致一次点击触发两次事件，为此可以检测该<code class="highlighter-rouge">_constructed</code>属性，只响应派发的事件，从而使得移动端和桌面端一致</li>
  <li>如果需要监听<code class="highlighter-rouge">scroll</code>事件，可以在参数项中控制<a href="https://ustbhuangyi.github.io/better-scroll/doc/zh-hans/options.html#probetype">probeType</a>的值</li>
  <li><code class="highlighter-rouge">new</code>出来的滚动控制器有<a href="https://ustbhuangyi.github.io/better-scroll/doc/zh-hans/api.html#refresh">refresh()</a>方法，调用时重新计算 <code class="highlighter-rouge">better-scroll</code>，当<code class="highlighter-rouge">DOM</code>结构发生变化的时候务必要调用确保滚动的效果正常</li>
  <li>利用<code class="highlighter-rouge">scrollTo</code>和<code class="highlighter-rouge">scrollToElement</code>可以代码触发滚动</li>
</ul>

<h5 id="vue中动画注意事项">vue中动画注意事项</h5>

<ul>
  <li>如果一个元素需要它完成一个动画后，让其执行另一个动画，前一个动画的结束可以利用<code class="highlighter-rouge">after-leave</code>钩子事件来监听</li>
  <li>利用一个变量来控制动画元素时，如<code class="highlighter-rouge">v-show="isShow"</code>，如果我们利用代码修改了变量<code class="highlighter-rouge">isShow</code>的值，<code class="highlighter-rouge">DOM</code>通常不能立即被修改，可以用<code class="highlighter-rouge">vm.$nextTick(()=&gt;{...})</code>的方式，使得<code class="highlighter-rouge">DOM</code>修改生效后再执行后续任务</li>
</ul>

<h4 id="工具配置debug">工具、配置、debug</h4>

<h5 id="使用vue-cli3x的配置文件vueconfigjs">使用vue-cli3.x的配置文件vue.config.js</h5>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'path'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'express'</span><span class="p">)</span>

<span class="c1">// mock code</span>
<span class="kr">const</span> <span class="nx">mockData</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./mock/data.json'</span><span class="p">)</span>

<span class="kd">function</span> <span class="nx">resolve</span> <span class="p">(</span><span class="nx">folder</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="nx">folder</span><span class="p">)</span>
<span class="p">}</span>  

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="cm">/** 区分打包环境与开发环境
   * process.env.NODE_ENV==='production'  (打包环境)
   * process.env.NODE_ENV==='development' (开发环境)
   * baseUrl: process.env.NODE_ENV==='production'?"https://cdn.didabisai.com/front/":'front/',
   */</span>
  <span class="c1">// 基本路径</span>
  <span class="na">baseUrl</span><span class="p">:</span> <span class="s1">'/'</span><span class="p">,</span>
  <span class="c1">// 输出文件目录</span>
  <span class="na">outputDir</span><span class="p">:</span> <span class="s1">'dist'</span><span class="p">,</span>
  <span class="c1">// eslint-loader 是否在保存的时候检查</span>
  <span class="na">lintOnSave</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="c1">// webpack配置</span>
  <span class="c1">// see https://github.com/vuejs/vue-cli/blob/dev/docs/webpack.md</span>
  <span class="na">chainWebpack</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="p">},</span>
  <span class="na">configureWebpack</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">resolve</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">alias</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'@src'</span><span class="p">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">'src'</span><span class="p">),</span>
        <span class="s1">'@components'</span><span class="p">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="s1">'components'</span><span class="p">)</span>
      <span class="p">}</span>
    <span class="p">}</span>
   <span class="p">},</span>
  <span class="c1">//如果想要引入babel-polyfill可以这样写</span>
  <span class="c1">// configureWebpack: (config) =&gt; {</span>
  <span class="c1">//   config.entry = ["babel-polyfill", "./src/main.js"]</span>
  <span class="c1">// },</span>

  <span class="c1">// 生产环境是否生成 sourceMap 文件</span>
  <span class="na">productionSourceMap</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="c1">// css相关配置</span>
  <span class="na">css</span><span class="p">:</span> <span class="p">{</span>
    <span class="c1">// 是否使用css分离插件 ExtractTextPlugin</span>
    <span class="na">extract</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="c1">// 开启 CSS source maps?</span>
    <span class="na">sourceMap</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="c1">// css预设器配置项</span>
    <span class="na">loaderOptions</span><span class="p">:</span> <span class="p">{},</span>
    <span class="c1">// 启用 CSS modules for all css / pre-processor files.</span>
    <span class="na">modules</span><span class="p">:</span> <span class="kc">false</span>
  <span class="p">},</span>
  <span class="c1">// use thread-loader for babel &amp; TS in production build</span>
  <span class="c1">// enabled by default if the machine has more than 1 cores</span>
  <span class="na">parallel</span><span class="p">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'os'</span><span class="p">).</span><span class="nx">cpus</span><span class="p">().</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="c1">// PWA 插件相关配置</span>
  <span class="c1">// see https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa</span>
  <span class="na">pwa</span><span class="p">:</span> <span class="p">{},</span>
  <span class="c1">// webpack-dev-server 相关配置</span>
  <span class="na">devServer</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">open</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">platform</span> <span class="o">===</span> <span class="s1">'darwin'</span><span class="p">,</span>
    <span class="na">host</span><span class="p">:</span> <span class="s1">'127.0.0.1'</span><span class="p">,</span>
    <span class="na">port</span><span class="p">:</span> <span class="mi">8080</span><span class="p">,</span>
    <span class="na">https</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">hotOnly</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">proxy</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">'/outer'</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">target</span><span class="p">:</span> <span class="s1">'http://localhost:8080/api/seller'</span><span class="p">,</span>
        <span class="nx">onProxyReq</span> <span class="p">(</span><span class="nx">proxyReq</span><span class="p">,</span> <span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">proxyReq</span><span class="p">,</span> <span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="nx">onProxyRes</span><span class="p">(</span><span class="nx">proxyRes</span><span class="p">,</span> <span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">proxyRes</span><span class="p">,</span> <span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="na">pathRewrite</span><span class="p">:</span> <span class="p">{</span>
          <span class="s1">'^/outer'</span><span class="p">:</span> <span class="s1">''</span> <span class="c1">// 这里一定要删掉，不然会导致死递归</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="na">before</span><span class="p">:</span> <span class="nx">app</span> <span class="o">=&gt;</span> <span class="p">{</span> 
      <span class="kr">const</span> <span class="nx">apiRoutes</span> <span class="o">=</span> <span class="nx">express</span><span class="p">.</span><span class="nx">Router</span><span class="p">()</span>
      <span class="kr">const</span> <span class="nx">pathArr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'/seller'</span><span class="p">,</span> <span class="s1">'/goods'</span><span class="p">,</span> <span class="s1">'/ratings'</span><span class="p">]</span>
      <span class="nx">pathArr</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">urlPath</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">apiRoutes</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">urlPath</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">urlPath</span><span class="p">)</span>
          <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span>
            <span class="na">errno</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">mockData</span><span class="p">[</span><span class="nx">urlPath</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
          <span class="p">});</span>
        <span class="p">});</span>
      <span class="p">})</span>

      <span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">'/api'</span><span class="p">,</span> <span class="nx">apiRoutes</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="c1">// 第三方插件配置</span>
  <span class="na">pluginOptions</span><span class="p">:</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre>
</div>
<h5 id="图标代码生成工具">图标代码生成工具</h5>

<ul>
  <li><a href="https://www.iconfont.cn/">阿里图标库：iconfont</a></li>
  <li><a href="https://icomoon.io/app/#/select">icomoon</a></li>
</ul>

<p>以上两个工具的介绍文章：<a href="https://blog.csdn.net/huangxiaoguo1/article/details/79623573">前端字体图标的使用（阿里、icomoon）</a></p>

<h5 id="在vscode中stylus自动格式化插件">在vscode中stylus自动格式化插件</h5>

<p>安装插件<code class="highlighter-rouge">stylus supremacy</code>，<code class="highlighter-rouge">vscode</code>中使用快捷键<code class="highlighter-rouge">ctrl ,</code>打开配置页，进行相关配置（搜索<code class="highlighter-rouge">supremacy</code>可以看到28项配置），控制自动格式化时是否使用大括号、分号等，<code class="highlighter-rouge">vscode</code>中自动格式化快捷键：<code class="highlighter-rouge">alt+shift+F</code>。</p>

<h5 id="安装jsonview">安装JSONView</h5>

<p>这是一个浏览器插件，可以在浏览器中格式化地查看<code class="highlighter-rouge">json</code>数据，可参考文章：<a href="https://www.cnblogs.com/whycxb/p/7126116.html">谷歌浏览器中安装JsonView扩展程序</a>。另外实际上在<code class="highlighter-rouge">chrome</code>中打开开发这工具，在<code class="highlighter-rouge">network</code>中查看相应的请求的<code class="highlighter-rouge">response</code>，点击左下角的<code class="highlighter-rouge"><span class="p">{}</span></code>符号，也可以查看格式化好的<code class="highlighter-rouge">json</code>数据。</p>

<h5 id="vscode为vue单文件设置模板">vscode为.vue单文件设置模板</h5>

<p><code class="highlighter-rouge">File &gt; Preferences &gt; User Snippets</code>，输入<code class="highlighter-rouge">vue.json</code>，即可配置，如下：</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
	</span><span class="nt">"Vue Single File"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
		</span><span class="nt">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vue"</span><span class="p">,</span><span class="w">
		</span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
			</span><span class="s2">"&lt;template&gt;\n"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"&lt;/template&gt;\n"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"&lt;script&gt;"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"export default {"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"  data() {"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"    return {\n"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"    }"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"  },"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"  components: {\n"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"  }"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"}"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"&lt;/script&gt;\n"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"&lt;style scoped lang=\"stylus\"&gt;\n"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"&lt;/style&gt;"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"$2"</span><span class="w">
		</span><span class="p">],</span><span class="w">
		</span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"generate snippets for .vue single file"</span><span class="w">
	</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>
<p>配置好以后，我们新建一个<code class="highlighter-rouge">.vue</code>文件，在其中输入<code class="highlighter-rouge">vue</code>，然后按<code class="highlighter-rouge">Tab</code>键（或者回车键），就会自动填充设置的模板代码。</p>

<p>参考：<a href="https://segmentfault.com/a/1190000014653201">在vscode里使用.vue代码模板的方法</a></p>

<h5 id="手机无法通过该ip地址访问项目">手机无法通过该ip地址访问项目</h5>

<ul>
  <li>确认可以使用<code class="highlighter-rouge">ip</code>地址方式在电脑上访问项目，注意需要将<code class="highlighter-rouge">devServer.host</code>配置为<code class="highlighter-rouge">0.0.0.0</code>，否则可能不行</li>
  <li>确认手机和电脑是一个局域网下（比如<code class="highlighter-rouge">wifi</code>或数据线共享网络）</li>
  <li>检查一下电脑防火墙是否拦截掉了请求，参考文章<a href="https://www.2cto.com/os/201203/123953.html">解决apache服务器本地可以访问，同局域网内他人不能访问的问题</a></li>
</ul>

<h5 id="滚动插件">滚动插件</h5>

<p><code class="highlighter-rouge">better-scroll</code>，<code class="highlighter-rouge">github</code>地址是<a href="https://github.com/ustbhuangyi/better-scroll">https://github.com/ustbhuangyi/better-scroll</a></p>

<h2 id="electron">electron</h2>

<ul>
  <li><a href="https://electronjs.org/docs/tutorial/first-app">打造你的第一个 Electron 应用</a></li>
  <li><a href="http://www.cnblogs.com/kakayang/p/9559777.html">electron安装+运行+打包成桌面应用+打包成安装文件+开机自启动</a></li>
</ul>

<h2 id="node">node</h2>

<p><a href="https://www.cnblogs.com/xinjie-just/p/7061619.html">windows 下更新 npm 和 node</a></p>

<h2 id="npm">npm</h2>

<ul>
  <li>我根据<code class="highlighter-rouge">babel</code>的官方文档执行<code class="highlighter-rouge">npm install @babel/preset-env --save-dev</code>命令时,出现了<code class="highlighter-rouge">peerDependencies WARNING @babel/preset-env@* requires a peer of @babel/core@^7.0.0-0 but none was installed</code>报错。
    <ul>
      <li>首先解释下<code class="highlighter-rouge">peerDependencies</code>，这是会发生在如下的情况：A依赖于B和C1，B依赖于C2的一种插件，C1和C2是同一种包的不同版本，在我的项目中，C1直接可见，C2并不直接可见，而B却是依赖于它，因此B在代码中可能会有类似<code class="highlighter-rouge">require(C)</code>之类的代码，两者版本不同，那么B就可能与实际引入的C1的代码不兼容，为此，B可能需要明确指定它的同级依赖（<code class="highlighter-rouge">peerDependencies</code>）。</li>
      <li>解决办法：手动安装</li>
      <li>参考1：<a href="https://blog.csdn.net/zhangchao19890805/article/details/78988364">Peer Dependencies （同版本依赖）</a></li>
      <li>参考1：<a href="https://blog.csdn.net/whc996/article/details/82865474?utm_source=blogxgwz0">探讨npm依赖管理之peerDependencies</a></li>
    </ul>
  </li>
</ul>

<h3 id="tricks-and-debug">tricks and debug</h3>

<h1 id="读书与生活">读书与生活</h1>

<h1 id="temp">temp</h1>

<h2 id="恶魔分金">恶魔分金</h2>

<h3 id="题目">题目</h3>

<p>现在有10个足够聪明且贪婪的人，有机会从恶魔那里得到1000斤黄金（1000等份，每斤不可分割），但是恶魔对黄金的分配提供了如下的规则：</p>

<ul>
  <li>10个人按顺序给出分配提案</li>
  <li>这个提案会被所有活着的人投票表决，每个人只能赞同或反对，且必须投票</li>
  <li>如果超过一半（含一半）的人反对，提案的人会被恶魔吃掉；反之投票通过，实施提案</li>
  <li>直到有提案被通过，恶魔才会离去</li>
</ul>

<p>那么如果你正好是第一个给出提案的人，那么你该如何分配？</p>

<h3 id="解答思路">解答思路</h3>

<p>按照分金人数，用递归的方式，先从基本情况考虑。下面的叙述以数组形式表示分金方案，第<code class="highlighter-rouge">s</code>个提案的人标记为<code class="highlighter-rouge">Ps</code>。另外，一个不言自明的事实是：提出方案的人必然会投赞成票。</p>

<h4 id="1个人">1个人</h4>

<p>此时，方案必然是<code class="highlighter-rouge">[1000]</code>，且通过</p>

<h4 id="2个人">2个人</h4>

<p>此时<code class="highlighter-rouge">P1</code>事实上没有决定权，但是只要自己不为0，必然会被（足够贪婪的）<code class="highlighter-rouge">P2</code>否掉，因此他必须分配成<code class="highlighter-rouge">[0,1000]</code>，如果<code class="highlighter-rouge">P2</code>善良的话，会直接同意，让<code class="highlighter-rouge">P1</code>保命。所以，最终的结果是：<code class="highlighter-rouge">P1</code>分金为0，且存在被吃掉的风险。</p>

<h4 id="3个人">3个人</h4>

<p>此时不论<code class="highlighter-rouge">P1</code>如何分配，<code class="highlighter-rouge">P2</code>必然会同意，因为如果他不通过，就会沦为2个人的情况，自己不但没金子还有被吃的风险。那么由于<code class="highlighter-rouge">P1</code>、<code class="highlighter-rouge">P2</code>都赞成，那么提案必然通过，因此<code class="highlighter-rouge">P1</code>为了最大利益，分配情况是<code class="highlighter-rouge">[1000,0,0]</code>。</p>

<h4 id="4个人">4个人</h4>

<p>我们先来看要使得<code class="highlighter-rouge">P2</code>到<code class="highlighter-rouge">P4</code>都通过，<code class="highlighter-rouge">P1</code>该如何分配？此时，需要使得提案通过时，<code class="highlighter-rouge">P2</code>到<code class="highlighter-rouge">P4</code>得到的金子多于不通过时（此时变为3人分配的情况）的金子就可以了。</p>

<ul>
  <li>给<code class="highlighter-rouge">P2</code>的只要大于1000，他必然接受，也就是1001</li>
  <li>给<code class="highlighter-rouge">P3</code>大于0，他必然接受，所以给1</li>
  <li>同理，给<code class="highlighter-rouge">P4</code>也为1就可以了</li>
  <li>因此如果提案为<code class="highlighter-rouge">[x, 1001, 1, 1]</code>，所有人都会通过，我们称该方案为<strong>完美方案</strong></li>
</ul>

<p>但事实上，<code class="highlighter-rouge">P1</code>只需要让分配方案后面3人中的2人通过就可以，为了自己得到更多的金子，他应该选择完美方案中，分配额最少的2人，即<code class="highlighter-rouge">P3</code>和<code class="highlighter-rouge">P4</code>，而<code class="highlighter-rouge">P2</code>就直接分配0。所以最后的分配方案是<code class="highlighter-rouge">[998, 0, 1, 1]</code>。</p>

<h4 id="5个人">5个人</h4>

<p>此时的完美方案是：<code class="highlighter-rouge">[x, 999, 1, 2, 2]</code>，实际方案有两种都可以：</p>

<ul>
  <li><code class="highlighter-rouge">[997, 0, 1, 2, 0]</code></li>
  <li><code class="highlighter-rouge">[997, 0, 1, 0, 2]</code></li>
</ul>

<h4 id="6个人">6个人</h4>

<p>此时的完美方案是：<code class="highlighter-rouge">[x, 998, 1, 2, 2, 2]</code>，这里需要注意一下由于5人的情况下，<code class="highlighter-rouge">P1</code>的选择有两种，所以最后两人最后可以获得2斤金子，但是只有50%的概率。因此，6人情况下，<code class="highlighter-rouge">P1</code>分配时，只要让他们100%地获得2，那么他们都必然会接受。</p>

<p>此时的实际方案有三种：</p>

<ul>
  <li><code class="highlighter-rouge">[995, 0, 1, 2, 2, 0]</code></li>
  <li><code class="highlighter-rouge">[995, 0, 1, 2, 0, 2]</code></li>
  <li><code class="highlighter-rouge">[995, 0, 1, 0, 2, 2]</code></li>
</ul>

<p>…</p>

<h4 id="10个人">10个人</h4>

<p>以此类推，10人时，<code class="highlighter-rouge">P1</code>应该给出的提案数共有<code class="highlighter-rouge">C(7,3)</code>种，需要满足前三人的分配额是：<code class="highlighter-rouge">[991, 0, 1]</code>，后面7人中4人分配2，3人分配0。比如<code class="highlighter-rouge">[991, 0, 1, 0, 2, 2, 2, 2, 0, 0]</code>。</p>


			  
			<!-- <p class="to-jianshu">
				转载请注明出处，您还可以在
				<a href="https://www.jianshu.com/u/4b533d3e0184" target="_blank">我的简书</a>上找到本文并评论。
			</p> -->

		</div>
	</article>

	<div class="sidebar">
		<a href="#" class="to-top"></a>
		<a href="javascript:;" class="nav-ctrl" id="navCtrl">目录</a>
		<a href="javascript:;" class="mode" id="mode">极简</a>
	</div>

</body>
</html>